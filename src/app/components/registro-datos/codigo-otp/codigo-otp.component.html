<div class="container otp-container">
  <div class="text-center">
    <h1 class="title">Verificación</h1>
    <p class="subtitle">Te hemos enviado un código. Elige el método o ingrésalo aquí.</p>
  </div>

  <div class="method-selection">
    <button class="method-button btn-upload" [disabled]="selectedMethod !== null" (click)="selectMethod('sms')">
      Reenviar mensaje
    </button>
  </div>

  <div *ngIf="selectedMethod" class="countdown">
    Código enviado. Espera {{ countdown }}s para reenviar.
  </div>

  <form [formGroup]="otpForm" class="otp-form">
    <div class="form-group">
      <div class="input-container with-loader">
        <input
          id="otp"
          type="text"
          formControlName="otp"
          class="otp-input"
          maxlength="6"
          placeholder=" "
        />
        <label for="otp">Código de verificación*</label>
        <div *ngIf="isLoading" class="mini-loader"></div>
      </div>
      <div class="error-message" *ngIf="!isOtpValid">
        Código inválido, inténtalo de nuevo
      </div>
    </div>
  </form>

  <button
    class="continue-btn"
    type="button"
    (click)="validateOtp()"
    [disabled]="otpForm.invalid || isLoading"
  >
    Continuar
  </button>
</div>
